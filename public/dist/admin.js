!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(1),n(5),t.exports=n(6)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=(n.n(i),n(3)),a=(n.n(r),n(4));n.n(a);$(function(){var t=document.querySelector('meta[name="csrf_token"]').content;$("#side-menu").metisMenu(),$(".repeater").repeater({show:function(){$(this).show(),$(this).find("select").prop("disabled",!1),$(this).find(".no-repeat").prop("disabled",!0)}}),$(".sortable").each(function(){var e=$(this);new a(this,{animation:150,handle:".sort-handle",onUpdate:function(n){e.prev().find(".d-none").removeClass("d-none"),console.log(e);var i=[];$(n.from.children).each(function(t){var e=$(this).data("device-id");i.push([e,t])}),$.ajax(window.rootUrl+"/admin/devices/set_order",{method:"post",data:{_token:t,data:i},success:function(){e.prev().find(".loading").addClass("d-none")}})}})}),$("#lfm").filemanager("image",{prefix:window.rootUrl+"/laravel-filemanager"})})},function(t,e){$(function(){$(window).bind("load resize",function(){var t=50;(this.window.innerWidth>0?this.window.innerWidth:this.screen.width)<768?($("div.navbar-collapse").addClass("collapse"),t=100):$("div.navbar-collapse").removeClass("collapse");var e=(this.window.innerHeight>0?this.window.innerHeight:this.screen.height)-1;(e-=t)<1&&(e=1),e>t&&$("#page-wrapper").css("min-height",e+"px")});for(var t=window.location,e=$("ul.nav a").filter(function(){return this.href==t}).addClass("active").parent();e.is("li");)e=e.parent().addClass("in").parent()})},function(t,e){!function(t){"use strict";var e=function(t){return t},n=function(e){return t.isArray(e)},i=function(t){return!n(t)&&t instanceof Object},r=function(e,n){return t.inArray(n,e)},a=function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n,t)},o=function(t){return t[t.length-1]},s=function(){var t,e={};return a((t=arguments,Array.prototype.slice.call(t)),function(t){a(t,function(t,n){e[n]=t})}),e},l=function(t,e,i){return n(t)?function(t,e){var n=[];return a(t,function(t,i,r){n.push(e(t,i,r))}),n}(t,e):function(t,e,n){var i={};return a(t,function(t,r,a){r=n?n(r,t):r,i[r]=e(t,r,a)}),i}(t,e,i)},u=function(t,e,n){return l(t,function(t,i){return t[e].apply(t,n||[])})};!function(t){var e=function(t,e){var n,i,o,s=(i={},(n=n||{}).publish=function(t,e){a(i[t],function(t){t(e)})},n.subscribe=function(t,e){i[t]=i[t]||[],i[t].push(e)},n.unsubscribe=function(t){a(i,function(e){var n=r(e,t);-1!==n&&e.splice(n,1)})},n),l=t.$;return s.getType=function(){throw'implement me (return type. "text", "radio", etc.)'},s.$=function(t){return t?l.find(t):l},s.disable=function(){s.$().prop("disabled",!0),s.publish("isEnabled",!1)},s.enable=function(){s.$().prop("disabled",!1),s.publish("isEnabled",!0)},e.equalTo=function(t,e){return t===e},e.publishChange=function(t,n){var i=s.get();e.equalTo(i,o)||s.publish("change",{e:t,domElement:n}),o=i},s},s=function(t,n){var i=e(t,n);return i.get=function(){return i.$().val()},i.set=function(t){i.$().val(t)},i.clear=function(){i.set("")},n.buildSetter=function(t){return function(e){t.call(i,e)}},i},l=function(t,e){t=n(t)?t:[t],e=n(e)?e:[e];var i=!0;return t.length!==e.length?i=!1:a(t,function(t){(function(t,e){return-1!==r(t,e)})(e,t)||(i=!1)}),i},c=function(t){var e={},n=s(t,e);return n.getType=function(){return"button"},n.$().on("change",function(t){e.publishChange(t,this)}),n},f=function(e){var i={},r=s(e,i);return r.getType=function(){return"checkbox"},r.get=function(){var e=[];return r.$().filter(":checked").each(function(){e.push(t(this).val())}),e},r.set=function(e){e=n(e)?e:[e],r.$().each(function(){t(this).prop("checked",!1)}),a(e,function(t){r.$().filter('[value="'+t+'"]').prop("checked",!0)})},i.equalTo=l,r.$().change(function(t){i.publishChange(t,this)}),r},p=function(t){var e=w(t,{});return e.getType=function(){return"email"},e},h=function(n){var i={},r=e(n,i);return r.getType=function(){return"file"},r.get=function(){return o(r.$().val().split("\\"))},r.clear=function(){this.$().each(function(){t(this).wrap("<form>").closest("form").get(0).reset(),t(this).unwrap()})},r.$().change(function(t){i.publishChange(t,this)}),r},d=function(t){var e={},n=s(t,e);return n.getType=function(){return"hidden"},n.$().change(function(t){e.publishChange(t,this)}),n},g=function(n){var i={},r=e(n,i);return r.getType=function(){return"file[multiple]"},r.get=function(){var t,e=r.$().get(0).files||[],n=[];for(t=0;t<(e.length||0);t+=1)n.push(e[t].name);return n},r.clear=function(){this.$().each(function(){t(this).wrap("<form>").closest("form").get(0).reset(),t(this).unwrap()})},r.$().change(function(t){i.publishChange(t,this)}),r},v=function(t){var e={},i=s(t,e);return i.getType=function(){return"select[multiple]"},i.get=function(){return i.$().val()||[]},i.set=function(t){i.$().val(""===t?[]:n(t)?t:[t])},e.equalTo=l,i.$().change(function(t){e.publishChange(t,this)}),i},m=function(t){var e=w(t,{});return e.getType=function(){return"password"},e},b=function(e){var n={},i=s(e,n);return i.getType=function(){return"radio"},i.get=function(){return i.$().filter(":checked").val()||null},i.set=function(e){e?i.$().filter('[value="'+e+'"]').prop("checked",!0):i.$().each(function(){t(this).prop("checked",!1)})},i.$().change(function(t){n.publishChange(t,this)}),i},y=function(t){var e={},n=s(t,e);return n.getType=function(){return"range"},n.$().change(function(t){e.publishChange(t,this)}),n},_=function(t){var e={},n=s(t,e);return n.getType=function(){return"select"},n.$().change(function(t){e.publishChange(t,this)}),n},w=function(t){var e={},n=s(t,e);return n.getType=function(){return"text"},n.$().on("change keyup keydown",function(t){e.publishChange(t,this)}),n},D=function(t){var e={},n=s(t,e);return n.getType=function(){return"textarea"},n.$().on("change keyup keydown",function(t){e.publishChange(t,this)}),n},C=function(t){var e=w(t,{});return e.getType=function(){return"url"},e},T=function(e){var n={},o=e.$,s=e.constructorOverride||{button:c,text:w,url:C,email:p,password:m,range:y,textarea:D,select:_,"select[multiple]":v,radio:b,checkbox:f,file:h,"file[multiple]":g,hidden:d},l=function(e,r){(i(r)?r:o.find(r)).each(function(){var i=t(this).attr("name");n[i]=s[e]({$:t(this)})})},u=function(e,l){var u=[],c=i(l)?l:o.find(l);i(l)?n[c.attr("name")]=s[e]({$:c}):(c.each(function(){-1===r(u,t(this).attr("name"))&&u.push(t(this).attr("name"))}),a(u,function(t){n[t]=s[e]({$:o.find('input[name="'+t+'"]')})}))};return o.is("input, select, textarea")?o.is('input[type="button"], button, input[type="submit"]')?l("button",o):o.is("textarea")?l("textarea",o):o.is('input[type="text"]')||o.is("input")&&!o.attr("type")?l("text",o):o.is('input[type="password"]')?l("password",o):o.is('input[type="email"]')?l("email",o):o.is('input[type="url"]')?l("url",o):o.is('input[type="range"]')?l("range",o):o.is("select")?o.is("[multiple]")?l("select[multiple]",o):l("select",o):o.is('input[type="file"]')?o.is("[multiple]")?l("file[multiple]",o):l("file",o):o.is('input[type="hidden"]')?l("hidden",o):o.is('input[type="radio"]')?u("radio",o):o.is('input[type="checkbox"]')?u("checkbox",o):l("text",o):(l("button",'input[type="button"], button, input[type="submit"]'),l("text",'input[type="text"]'),l("password",'input[type="password"]'),l("email",'input[type="email"]'),l("url",'input[type="url"]'),l("range",'input[type="range"]'),l("textarea","textarea"),l("select","select:not([multiple])"),l("select[multiple]","select[multiple]"),l("file",'input[type="file"]:not([multiple])'),l("file[multiple]",'input[type="file"][multiple]'),l("hidden",'input[type="hidden"]'),u("radio",'input[type="radio"]'),u("checkbox",'input[type="checkbox"]')),n};t.fn.inputVal=function(e){var n=t(this),i=T({$:n});return n.is("input, textarea, select")?void 0===e?i[n.attr("name")].get():(i[n.attr("name")].set(e),n):void 0===e?u(i,"get"):(a(e,function(t,e){i[e].set(t)}),n)},t.fn.inputOnChange=function(e){var n=t(this),i=T({$:n});return a(i,function(t){t.subscribe("change",function(t){e.call(t.domElement,t.e)})}),n},t.fn.inputDisable=function(){var e=t(this);return u(T({$:e}),"disable"),e},t.fn.inputEnable=function(){var e=t(this);return u(T({$:e}),"enable"),e},t.fn.inputClear=function(){var e=t(this);return u(T({$:e}),"clear"),e}}(jQuery),t.fn.repeaterVal=function(){var e,n,i=function(t){if(1===t.length&&(0===t[0].key.length||1===t[0].key.length&&!t[0].key[0]))return t[0].val;a(t,function(t){t.head=t.key.shift()});var e,n=function(){var e={};return a(t,function(t){e[t.head]||(e[t.head]=[]),e[t.head].push(t)}),e}();return/^[0-9]+$/.test(t[0].head)?(e=[],a(n,function(t){e.push(i(t))})):(e={},a(n,function(t,n){e[n]=i(t)})),e};return i((e=t(this).inputVal(),n=[],a(e,function(t,e){var i=[];"undefined"!==e&&(i.push(e.match(/^[^\[]*/)[0]),i=i.concat(l(e.match(/\[[^\]]*\]/g),function(t){return t.replace(/[\[\]]/g,"")})),n.push({val:t,key:i}))}),n))},t.fn.repeater=function(i){var r;return i=i||{},t(this).each(function(){var u=t(this),c=i.show||function(){t(this).show()},f=i.hide||function(t){t()},p=u.find("[data-repeater-list]").first(),h=function(e,n){return e.filter(function(){return!n||0===t(this).closest((e=n,i="selector",l(e,function(t){return t[i]})).join(",")).length;var e,i})},d=function(){return h(p.find("[data-repeater-item]"),i.repeaters)},g=p.find("[data-repeater-item]").first().clone().hide(),v=h(h(t(this).find("[data-repeater-item]"),i.repeaters).first().find("[data-repeater-delete]"),i.repeaters);i.isFirstItemUndeletable&&v&&v.remove();var m=function(){var t=p.data("repeater-list");return i.$parent?i.$parent.data("item-name")+"["+t+"]":t},b=function(e){i.repeaters&&e.each(function(){var e=t(this);a(i.repeaters,function(t){e.find(t.selector).repeater(s(t,{$parent:e}))})})},y=function(t,e,n){t&&a(t,function(t){n.call(e.find(t.selector)[0],t)})},_=function(e,n,i){e.each(function(e){var r=t(this);r.data("item-name",n+"["+e+"]"),h(r.find("[name]"),i).each(function(){var a=t(this),s=a.attr("name").match(/\[[^\]]+\]/g),l=s?o(s).replace(/\[|\]/g,""):a.attr("name"),u=n+"["+e+"]["+l+"]"+(a.is(":checkbox")||a.attr("multiple")?"[]":"");a.attr("name",u),y(i,r,function(i){var r=t(this);_(h(r.find("[data-repeater-item]"),i.repeaters||[]),n+"["+e+"]["+r.find("[data-repeater-list]").first().data("repeater-list")+"]",i.repeaters)})})}),p.find("input[name][checked]").removeAttr("checked").prop("checked",!0)};_(d(),m(),i.repeaters),b(d()),i.initEmpty&&d().remove(),i.ready&&i.ready(function(){_(d(),m(),i.repeaters)});var w,D=(w=function(r,o,s){if(o||i.defaultValues){var u={};h(r.find("[name]"),s).each(function(){var e=t(this).attr("name").match(/\[([^\]]*)(\]|\]\[\])$/)[1];u[e]=t(this).attr("name")}),r.inputVal(l((c=o||i.defaultValues,f=function(t,e){return u[e]},n(c)?(p=[],a(c,function(t,e,n){f(t,e,n)&&p.push(t)})):(p={},a(c,function(t,e,n){f(t,e,n)&&(p[e]=t)})),p),e,function(t){return u[t]}))}var c,f,p;y(s,r,function(e){var n=t(this);h(n.find("[data-repeater-item]"),e.repeaters).each(function(){var i=n.find("[data-repeater-list]").data("repeater-list");if(o&&o[i]){var r=t(this).clone();n.find("[data-repeater-item]").remove(),a(o[i],function(t){var i=r.clone();w(i,t,e.repeaters||[]),n.find("[data-repeater-list]").append(i)})}else w(t(this),e.defaultValues,e.repeaters||[])})})},function(e,n){p.append(e),_(d(),m(),i.repeaters),e.find("[name]").each(function(){t(this).inputClear()}),w(e,n||i.defaultValues,i.repeaters)}),C=function(t){var e=g.clone();D(e,t),i.repeaters&&b(e),c.call(e.get(0))};r=function(t){d().remove(),a(t,C)},h(u.find("[data-repeater-create]"),i.repeaters).click(function(){C()}),p.on("click","[data-repeater-delete]",function(){var e=t(this).closest("[data-repeater-item]").get(0);f.call(e,function(){t(e).remove(),_(d(),m(),i.repeaters)})})}),this.setList=r,this}}(jQuery)},function(t,e,n){var i,r;!function(a){"use strict";void 0===(r="function"==typeof(i=a)?i.call(e,n,e,t):i)||(t.exports=r)}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var t,e,n,i,r,a,o,s,l,u,c,f,p,h,d,g,v,m,b,y,_,w={},D=/\s+/g,C=/left|right|inline/,T="Sortable"+(new Date).getTime(),x=window,$=x.document,k=x.parseInt,E=x.setTimeout,S=x.jQuery||x.Zepto,N=x.Polymer,O=!1,P="draggable"in $.createElement("div"),B=!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((_=$.createElement("x")).style.cssText="pointer-events:auto","auto"===_.style.pointerEvents),Y=!1,A=Math.abs,X=Math.min,I=[],M=[],R=it(function(t,e,n){if(n&&e.scroll){var i,r,a,o,c,f,p=n[T],h=e.scrollSensitivity,d=e.scrollSpeed,g=t.clientX,v=t.clientY,m=window.innerWidth,b=window.innerHeight;if(l!==n&&(s=e.scroll,l=n,u=e.scrollFn,!0===s)){s=n;do{if(s.offsetWidth<s.scrollWidth||s.offsetHeight<s.scrollHeight)break}while(s=s.parentNode)}s&&(i=s,r=s.getBoundingClientRect(),a=(A(r.right-g)<=h)-(A(r.left-g)<=h),o=(A(r.bottom-v)<=h)-(A(r.top-v)<=h)),a||o||(o=(b-v<=h)-(v<=h),((a=(m-g<=h)-(g<=h))||o)&&(i=x)),w.vx===a&&w.vy===o&&w.el===i||(w.el=i,w.vx=a,w.vy=o,clearInterval(w.pid),i&&(w.pid=setInterval(function(){if(f=o?o*d:0,c=a?a*d:0,"function"==typeof u)return u.call(p,c,f,t);i===x?x.scrollTo(x.pageXOffset+c,x.pageYOffset+f):(i.scrollTop+=f,i.scrollLeft+=c)},24)))}},30),j=function(t){function e(t,e){return void 0!==t&&!0!==t||(t=n.name),"function"==typeof t?t:function(n,i){var r=i.options.group.name;return e?t:t&&(t.join?t.indexOf(r)>-1:r==t)}}var n={},i=t.group;i&&"object"==typeof i||(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){O={capture:!1,passive:!1}}}))}catch(t){}function U(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=rt({},e),t[T]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==U.supportPointer};for(var i in n)!(i in e)&&(e[i]=n[i]);for(var r in j(e),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&P,H(t,"mousedown",this._onTapStart),H(t,"touchstart",this._onTapStart),e.supportPointer&&H(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(H(t,"dragover",this),H(t,"dragenter",this)),M.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function V(e,n){"clone"!==e.lastPullMode&&(n=!0),i&&i.state!==n&&(z(i,"display",n?"none":""),n||i.state&&(e.options.group.revertClone?(r.insertBefore(i,a),e._animate(t,i)):r.insertBefore(i,t)),i.state=n)}function L(t,e,n){if(t){n=n||$;do{if(">*"===e&&t.parentNode===n||nt(t,e))return t}while(t=F(t))}return null}function F(t){var e=t.host;return e&&e.nodeType?e:t.parentNode}function H(t,e,n){t.addEventListener(e,n,O)}function W(t,e,n){t.removeEventListener(e,n,O)}function q(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(D," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(D," ")}}function z(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return $.defaultView&&$.defaultView.getComputedStyle?n=$.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function Q(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,a=i.length;if(n)for(;r<a;r++)n(i[r],r);return i}return[]}function G(t,e,n,r,a,o,s,l){t=t||e[T];var u=$.createEvent("Event"),c=t.options,f="on"+n.charAt(0).toUpperCase()+n.substr(1);u.initEvent(n,!0,!0),u.to=a||e,u.from=o||e,u.item=r||e,u.clone=i,u.oldIndex=s,u.newIndex=l,e.dispatchEvent(u),c[f]&&c[f].call(t,u)}function Z(t,e,n,i,r,a,o,s){var l,u,c=t[T],f=c.options.onMove;return(l=$.createEvent("Event")).initEvent("move",!0,!0),l.to=e,l.from=t,l.dragged=n,l.draggedRect=i,l.related=r||e,l.relatedRect=a||e.getBoundingClientRect(),l.willInsertAfter=s,t.dispatchEvent(l),f&&(u=f.call(c,l,o)),u}function J(t){t.draggable=!1}function K(){Y=!1}function tt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function et(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!nt(t,e)||n++;return n}function nt(t,e){if(t){var n=(e=e.split(".")).shift().toUpperCase(),i=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return!(""!==n&&t.nodeName.toUpperCase()!=n||e.length&&((" "+t.className+" ").match(i)||[]).length!=e.length)}return!1}function it(t,e){var n,i;return function(){void 0===n&&(n=arguments,i=this,E(function(){1===n.length?t.call(i,n[0]):t.apply(i,n),n=void 0},e))}}function rt(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function at(t){return N&&N.dom?N.dom(t).cloneNode(!0):S?S(t).clone(!0)[0]:t.cloneNode(!0)}function ot(t){return E(t,0)}function st(t){return clearTimeout(t)}return U.prototype={constructor:U,_onTapStart:function(e){var n,i=this,r=this.el,a=this.options,s=a.preventOnFilter,l=e.type,u=e.touches&&e.touches[0],c=(u||e).target,f=e.target.shadowRoot&&e.path&&e.path[0]||c,p=a.filter;if(function(t){var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var i=e[n];i.checked&&I.push(i)}}(r),!t&&!(/mousedown|pointerdown/.test(l)&&0!==e.button||a.disabled)&&!f.isContentEditable&&(c=L(c,a.draggable,r))&&o!==c){if(n=et(c,a.draggable),"function"==typeof p){if(p.call(this,e,c,this))return G(i,f,"filter",c,r,r,n),void(s&&e.preventDefault())}else if(p&&(p=p.split(",").some(function(t){if(t=L(f,t.trim(),r))return G(i,t,"filter",c,r,r,n),!0})))return void(s&&e.preventDefault());a.handle&&!L(f,a.handle,r)||this._prepareDragStart(e,u,c,n)}},_prepareDragStart:function(n,i,s,l){var u,c=this,f=c.el,p=c.options,d=f.ownerDocument;s&&!t&&s.parentNode===f&&(m=n,r=f,e=(t=s).parentNode,a=t.nextSibling,o=s,g=p.group,h=l,this._lastX=(i||n).clientX,this._lastY=(i||n).clientY,t.style["will-change"]="all",u=function(){c._disableDelayedDrag(),t.draggable=c.nativeDraggable,q(t,p.chosenClass,!0),c._triggerDragStart(n,i),G(c,r,"choose",t,r,r,h)},p.ignore.split(",").forEach(function(e){Q(t,e.trim(),J)}),H(d,"mouseup",c._onDrop),H(d,"touchend",c._onDrop),H(d,"touchcancel",c._onDrop),H(d,"selectstart",c),p.supportPointer&&H(d,"pointercancel",c._onDrop),p.delay?(H(d,"mouseup",c._disableDelayedDrag),H(d,"touchend",c._disableDelayedDrag),H(d,"touchcancel",c._disableDelayedDrag),H(d,"mousemove",c._disableDelayedDrag),H(d,"touchmove",c._disableDelayedDrag),p.supportPointer&&H(d,"pointermove",c._disableDelayedDrag),c._dragStartTimer=E(u,p.delay)):u())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),W(t,"mouseup",this._disableDelayedDrag),W(t,"touchend",this._disableDelayedDrag),W(t,"touchcancel",this._disableDelayedDrag),W(t,"mousemove",this._disableDelayedDrag),W(t,"touchmove",this._disableDelayedDrag),W(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,n){(n=n||("touch"==e.pointerType?e:null))?(m={target:t,clientX:n.clientX,clientY:n.clientY},this._onDragStart(m,"touch")):this.nativeDraggable?(H(t,"dragend",this),H(r,"dragstart",this._onDragStart)):this._onDragStart(m,!0);try{$.selection?ot(function(){$.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){if(r&&t){var e=this.options;q(t,e.ghostClass,!0),q(t,e.dragClass,!1),U.active=this,G(this,r,"start",t,r,r,h)}else this._nulling()},_emulateDragOver:function(){if(b){if(this._lastX===b.clientX&&this._lastY===b.clientY)return;this._lastX=b.clientX,this._lastY=b.clientY,B||z(n,"display","none");var t=$.elementFromPoint(b.clientX,b.clientY),e=t,i=M.length;if(t&&t.shadowRoot&&(e=t=t.shadowRoot.elementFromPoint(b.clientX,b.clientY)),e)do{if(e[T]){for(;i--;)M[i]({clientX:b.clientX,clientY:b.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);B||z(n,"display","")}},_onTouchMove:function(t){if(m){var e=this.options,i=e.fallbackTolerance,r=e.fallbackOffset,a=t.touches?t.touches[0]:t,o=a.clientX-m.clientX+r.x,s=a.clientY-m.clientY+r.y,l=t.touches?"translate3d("+o+"px,"+s+"px,0)":"translate("+o+"px,"+s+"px)";if(!U.active){if(i&&X(A(a.clientX-this._lastX),A(a.clientY-this._lastY))<i)return;this._dragStarted()}this._appendGhost(),y=!0,b=a,z(n,"webkitTransform",l),z(n,"mozTransform",l),z(n,"msTransform",l),z(n,"transform",l),t.preventDefault()}},_appendGhost:function(){if(!n){var e,i=t.getBoundingClientRect(),a=z(t),o=this.options;q(n=t.cloneNode(!0),o.ghostClass,!1),q(n,o.fallbackClass,!0),q(n,o.dragClass,!0),z(n,"top",i.top-k(a.marginTop,10)),z(n,"left",i.left-k(a.marginLeft,10)),z(n,"width",i.width),z(n,"height",i.height),z(n,"opacity","0.8"),z(n,"position","fixed"),z(n,"zIndex","100000"),z(n,"pointerEvents","none"),o.fallbackOnBody&&$.body.appendChild(n)||r.appendChild(n),e=n.getBoundingClientRect(),z(n,"width",2*i.width-e.width),z(n,"height",2*i.height-e.height)}},_onDragStart:function(e,n){var a=this,o=e.dataTransfer,s=a.options;a._offUpEvents(),g.checkPull(a,a,t,e)&&((i=at(t)).draggable=!1,i.style["will-change"]="",z(i,"display","none"),q(i,a.options.chosenClass,!1),a._cloneId=ot(function(){r.insertBefore(i,t),G(a,r,"clone",t)})),q(t,s.dragClass,!0),n?("touch"===n?(H($,"touchmove",a._onTouchMove),H($,"touchend",a._onDrop),H($,"touchcancel",a._onDrop),s.supportPointer&&(H($,"pointermove",a._onTouchMove),H($,"pointerup",a._onDrop))):(H($,"mousemove",a._onTouchMove),H($,"mouseup",a._onDrop)),a._loopId=setInterval(a._emulateDragOver,50)):(o&&(o.effectAllowed="move",s.setData&&s.setData.call(a,o,t)),H($,"drop",a),a._dragStartId=ot(a._dragStarted))},_onDragOver:function(o){var s,l,u,h,d=this.el,m=this.options,b=m.group,_=U.active,w=g===b,D=!1,x=m.sort;if(void 0!==o.preventDefault&&(o.preventDefault(),!m.dragoverBubble&&o.stopPropagation()),!t.animated&&(y=!0,_&&!m.disabled&&(w?x||(h=!r.contains(t)):v===this||(_.lastPullMode=g.checkPull(this,_,t,o))&&b.checkPut(this,_,t,o))&&(void 0===o.rootEl||o.rootEl===this.el))){if(R(o,m,this.el),Y)return;if(s=L(o.target,m.draggable,d),l=t.getBoundingClientRect(),v!==this&&(v=this,D=!0),h)return V(_,!0),e=r,void(i||a?r.insertBefore(t,i||a):x||r.appendChild(t));if(0===d.children.length||d.children[0]===n||d===o.target&&function(t,e){var n=t.lastElementChild.getBoundingClientRect();return e.clientY-(n.top+n.height)>5||e.clientX-(n.left+n.width)>5}(d,o)){if(0!==d.children.length&&d.children[0]!==n&&d===o.target&&(s=d.lastElementChild),s){if(s.animated)return;u=s.getBoundingClientRect()}V(_,w),!1!==Z(r,d,t,l,s,u,o)&&(t.contains(d)||(d.appendChild(t),e=d),this._animate(l,t),s&&this._animate(u,s))}else if(s&&!s.animated&&s!==t&&void 0!==s.parentNode[T]){c!==s&&(c=s,f=z(s),p=z(s.parentNode));var $=(u=s.getBoundingClientRect()).right-u.left,k=u.bottom-u.top,S=C.test(f.cssFloat+f.display)||"flex"==p.display&&0===p["flex-direction"].indexOf("row"),N=s.offsetWidth>t.offsetWidth,O=s.offsetHeight>t.offsetHeight,P=(S?(o.clientX-u.left)/$:(o.clientY-u.top)/k)>.5,B=s.nextElementSibling,A=!1;if(S){var X=t.offsetTop,I=s.offsetTop;A=X===I?s.previousElementSibling===t&&!N||P&&N:s.previousElementSibling===t||t.previousElementSibling===s?(o.clientY-u.top)/k>.5:I>X}else D||(A=B!==t&&!O||P&&O);var M=Z(r,d,t,l,s,u,o,A);!1!==M&&(1!==M&&-1!==M||(A=1===M),Y=!0,E(K,30),V(_,w),t.contains(d)||(A&&!B?d.appendChild(t):s.parentNode.insertBefore(t,A?B:s)),e=t.parentNode,this._animate(l,t),this._animate(u,s))}}},_animate:function(t,e){var n=this.options.animation;if(n){var i=e.getBoundingClientRect();1===t.nodeType&&(t=t.getBoundingClientRect()),z(e,"transition","none"),z(e,"transform","translate3d("+(t.left-i.left)+"px,"+(t.top-i.top)+"px,0)"),e.offsetWidth,z(e,"transition","all "+n+"ms"),z(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=E(function(){z(e,"transition",""),z(e,"transform",""),e.animated=!1},n)}},_offUpEvents:function(){var t=this.el.ownerDocument;W($,"touchmove",this._onTouchMove),W($,"pointermove",this._onTouchMove),W(t,"mouseup",this._onDrop),W(t,"touchend",this._onDrop),W(t,"pointerup",this._onDrop),W(t,"touchcancel",this._onDrop),W(t,"pointercancel",this._onDrop),W(t,"selectstart",this)},_onDrop:function(o){var s=this.el,l=this.options;clearInterval(this._loopId),clearInterval(w.pid),clearTimeout(this._dragStartTimer),st(this._cloneId),st(this._dragStartId),W($,"mouseover",this),W($,"mousemove",this._onTouchMove),this.nativeDraggable&&(W($,"drop",this),W(s,"dragstart",this._onDragStart)),this._offUpEvents(),o&&(y&&(o.preventDefault(),!l.dropBubble&&o.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),r!==e&&"clone"===U.active.lastPullMode||i&&i.parentNode&&i.parentNode.removeChild(i),t&&(this.nativeDraggable&&W(t,"dragend",this),J(t),t.style["will-change"]="",q(t,this.options.ghostClass,!1),q(t,this.options.chosenClass,!1),G(this,r,"unchoose",t,e,r,h),r!==e?(d=et(t,l.draggable))>=0&&(G(null,e,"add",t,e,r,h,d),G(this,r,"remove",t,e,r,h,d),G(null,e,"sort",t,e,r,h,d),G(this,r,"sort",t,e,r,h,d)):t.nextSibling!==a&&(d=et(t,l.draggable))>=0&&(G(this,r,"update",t,e,r,h,d),G(this,r,"sort",t,e,r,h,d)),U.active&&(null!=d&&-1!==d||(d=h),G(this,r,"end",t,e,r,h,d),this.save()))),this._nulling()},_nulling:function(){r=t=e=n=a=i=o=s=l=m=b=y=d=c=f=v=g=U.active=null,I.forEach(function(t){t.checked=!0}),I.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":t&&(this._onDragOver(e),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.preventDefault()}(e));break;case"mouseover":this._onDrop(e);break;case"selectstart":e.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,r=n.length,a=this.options;i<r;i++)L(t=n[i],a.draggable,this.el)&&e.push(t.getAttribute(a.dataIdAttr)||tt(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach(function(t,i){var r=n.children[i];L(r,this.options.draggable,n)&&(e[t]=r)},this),t.forEach(function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return L(t,e||this.options.draggable,this.el)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];n[t]=e,"group"===t&&j(n)},destroy:function(){var t=this.el;t[T]=null,W(t,"mousedown",this._onTapStart),W(t,"touchstart",this._onTapStart),W(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(W(t,"dragover",this),W(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),M.splice(M.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},H($,"touchmove",function(t){U.active&&t.preventDefault()}),U.utils={on:H,off:W,css:z,find:Q,is:function(t,e){return!!L(t,e,t)},extend:rt,throttle:it,closest:L,toggleClass:q,clone:at,index:et,nextTick:ot,cancelNextTick:st},U.create=function(t,e){return new U(t,e)},U.version="1.7.0",U})},function(t,e){},function(t,e){}]);